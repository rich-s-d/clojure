{"version":3,"sources":["calculator/app.cljs"],"mappings":"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","names":["calculator.app/current-value","reagent.core.atom","calculator.app/zero-atom","calculator.app/xy-atom","cljs.core.atom","calculator.app/mem-atom","calculator.app/get-value","event","cljs.core/deref","cljs.core.print","js/console.log","cljs.core.swap_BANG_","cljs.core/update-in","cljs.core/+","cljs.core/reset!","calculator.app/clear-display","calculator.app/calculate","cljs.core._EQ_","cljs.core/assoc-in","calculator.app/result","js/eval","calculator.app/add-to-memory","n","calculator.app/mem-recall","calculator.app/mem-reset","calculator.app/pi","js/Math","calculator.app/x-squared","calculator.app/mini-app","calculator.app/run","reagent.dom.render","js/document.getElementById","calculator.app/reload","js/console"],"sourcesContent":["(ns calculator.app\n  (:require\n    [reagent.core :as r]\n    [reagent.dom :as rdom]))\n\n(def current-value (r/atom 0))\n(def zero-atom (r/atom \"\"))\n(def xy-atom (atom {:x 0 :y \"\" :z \"\" :sym \"\"}))\n(def mem-atom (r/atom 0))\n\n\n(defn get-value [event]\n      (print @xy-atom)\n      (js/console.log event)\n      ;(reset! current-value event)\n      ;(swap! xy-atom update-in [:x] + event )\n      (swap! xy-atom update-in [:y] + event)\n      (reset! current-value (:y @xy-atom))\n      (print @xy-atom))\n\n\n(defn clear-display []\n      (reset! current-value 0)\n      (reset! xy-atom {:x 0 :y \"\" :z \"\" :sym \"\"})\n      )\n\n(defn calculate [event]\n      ;calculate result for every computing\n      ;(@y @sym )\n      (do\n        (print @xy-atom)\n        (swap! xy-atom update-in [:sym] + event )\n        (if (= (:z @xy-atom) \"\") (swap! xy-atom update-in [:z] + (:y @xy-atom)))\n        (swap! xy-atom assoc-in [:y] \"\")\n        (print @xy-atom)\n        )\n      )\n\n(defn result []\n      (print @xy-atom)\n      (reset! current-value (js/eval (str(:z @xy-atom)\n                                         (:sym @xy-atom)\n                                         (:y @xy-atom)\n                                         )))\n      (reset! xy-atom {:y \"\" :z @current-value :sym \"\"})\n      ;(swap! xy-atom update-in [:z] + @current-value)\n      (print @xy-atom)\n      )\n\n(defn add-to-memory []\n      (print @mem-atom)\n      (print @xy-atom)\n      ;(reset! current-value (:y @xy-atom))\n      (swap! mem-atom (fn [n] (+ n (js/eval @current-value))))\n\n      ;(swap! my-atom (fn [n] (* (+ n n) 2)))\n      (print @mem-atom)\n      (print @xy-atom))\n\n(defn mem-recall []\n      (print @mem-atom)\n      (print @xy-atom)\n      (swap! xy-atom assoc-in [:y] @mem-atom)\n      (reset! current-value @mem-atom)\n      (print @mem-atom)\n      (print @xy-atom)\n      )\n\n(defn mem-reset []\n      (print @mem-atom)\n      (reset! mem-atom 0))\n      (print @mem-atom)\n\n(defn pi []\n      (print @xy-atom)\n      (reset! current-value (.-PI js/Math))                               ;\n      (swap! xy-atom assoc-in [:y] @current-value)\n      (print @xy-atom)\n      )\n\n(defn x-squared []\n      (print @xy-atom)\n      (reset! current-value (* @current-value @current-value))\n      (swap! xy-atom assoc-in [:y] @current-value)\n      (print @xy-atom)\n      )\n\n(defn mini-app []\n      [:table {:border \"1\"}\n       [:tbody\n        [:tr\n         [:td {:colspan \"3\"} [:input#result {:readonly \"\" :type \"text\" :value  @current-value  }]]\n         [:td [:input {:type \"button\" :value \"c\" :on-click #(clear-display)} ]]]\n        [:tr\n         [:td [:input {:type \"button\" :value \"1\" :on-click #(get-value 1)  }]]\n         [:td [:input {:type \"button\" :value \"2\" :on-click #(get-value 2) }]]\n         [:td [:input {:type \"button\" :value \"3\" :on-click #(get-value 3)}]]\n         [:td [:input {:type \"button\" :value \"/\" :on-click #(calculate \"/\")}]]]\n        [:tr\n         [:td [:input {:type \"button\" :value \"4\" :on-click #(get-value 4)}]]\n         [:td [:input {:type \"button\" :value \"5\" :on-click #(get-value 5)}]]\n         [:td [:input {:type \"button\" :value \"6\" :on-click #(get-value 6)}]]\n         [:td [:input {:type \"button\" :value \"-\" :on-click #(calculate \"-\")}]]]\n        [:tr\n         [:td [:input {:type \"button\" :value \"7\" :on-click #(get-value 7)}]]\n         [:td [:input {:type \"button\" :value \"8\" :on-click #(get-value 8)}]]\n         [:td [:input {:type \"button\" :value \"9\" :on-click #(get-value 9)}]]\n         [:td [:input {:type \"button\" :value \"+\" :on-click #(calculate \"+\")}]]]\n        [:tr\n         [:td [:input {:type \"button\" :value \".\" :on-click #(get-value \".\")}]]\n         [:td [:input {:type \"button\" :value \"0\" :on-click #(get-value 0)}]]\n         [:td [:input {:type \"button\" :value \"=\" :on-click #(result)}]]\n         [:td [:input {:type \"button\" :value \"*\" :on-click #(calculate \"*\")}]]]\n        [:tr\n         [:td [:input {:type \"button\" :value \"\u03c0\" :on-click #(pi)}]]\n         [:td [:input {:type \"button\" :value \"MemReset\" :on-click #(mem-reset)}]]\n         [:td [:input {:type \"button\" :value \"MemRecall\" :on-click #(mem-recall)}]]\n         [:td [:input {:type \"button\" :value \"Mem+\" :on-click #(add-to-memory)}]]]\n        [:tr\n         [:td [:input {:type \"button\" :value \"x\u00b2\" :on-click #(x-squared)}]]\n         [:td [:input {:type \"button\" :value \"Sp.\" :on-click #()}]]\n         [:td [:input {:type \"button\" :value \"Sp.\" :on-click #()}]]\n         [:td [:input {:type \"button\" :value \"Sp.\" :on-click #()}]]]]])\n\n(defn ^:export run []\n      (rdom/render [mini-app] (js/document.getElementById \"app\")))\n(defn ^:export reload []\n      (.log js/console \"reload...\")\n      (run))\n"]}